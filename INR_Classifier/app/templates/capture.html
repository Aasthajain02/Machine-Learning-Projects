{% extends "base.html" %}
{% block title %}Local image Demo{% endblock %}
{% block body %}

<div>
  <div class="row">
    
    <div class="col-sm-12 col-md-12 col-xs-12 text-center" >
      <h1 align="center" style="color: black;">Image Upload</h1>
      <p>Upload an image file to classify</p>
      <div style="margin-top: 50px;">
        <!-- Image preview container -->
        <div id="image-preview-container" style="display: none;">
          <img id="image-preview" src="#" alt="Uploaded Image" style="max-width: 100%; max-height: 300px;">
        </div>
        <form id="upload-form" action = "/result" method = "post" enctype="multipart/form-data">  
          <input class="button" type="file" name="file" accept=".jpg,jpeg,.png" style="color: black; margin-left: 500px;"  />
          <input class="button"type = "submit" value="Upload" name="file"style="margin-top:115px;">  
        </form>
      </div>
    </div>

    
  </div>

</div>

</div>

<script>
  // Function to handle file input change event
  function handleFileInput(event) {
    const file = event.target.files[0];
    const imagePreview = document.getElementById('image-preview');

    // Display uploaded image in the image preview container
    if (file) {
      const reader = new FileReader();
      reader.onload = function(e) {
        imagePreview.src = e.target.result;
        document.getElementById('image-preview-container').style.display = 'block';
      };
      reader.readAsDataURL(file);
    }
  }

  // Add event listener to file input
  const fileInput = document.getElementById('file-input');
  fileInput.addEventListener('change', handleFileInput);
</script>

{% endblock %}
